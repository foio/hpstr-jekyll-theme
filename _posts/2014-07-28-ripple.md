---
layout: post
title: ripple,下一代金融基础设施 
description: "ripple"
modified: 2014-07-28
tags: [ripple]
image:
  background: triangular.png
comments: true
---

相信基本上所有人都听说过比特币，作为去中心话的p2p货币，它的单位价值从最开始低于1美元到现在的600多美元，上涨将近1000倍，成就了无数比特币淘金者的一夜暴富之梦。比特币将货币去中心化，解决了货币供应的集权问题。但是要求所有的人都使用比特币也是不现实的，而且自由的市场也应该有多种货币。如何在一个去中心化的系统中实现多种货币之间的自由流通呢？Ripple做到了。

Ripple是一个去中心化的支付系统和货币兑换系统，支持任何货币，包括美元、人民币、英镑、比特币等。Jed是Ripple的创始人之一，曾一度被身边的人怀疑是最有可能创造比特币的人，他同时也是是P2P下载器（eDonkey）的发明者和创始人以及Mt.Gox(最大的比特币交易平台)的创始人。从Jed的一系列创业过程可以看出，他一直在致力于消除集权(去中心话)，削弱政府的权力以让人类更自由。目前Ripple已经获得Goole和IDG的投资。

![Jed][1]

Ripple主要引入两个观念：XRP(瑞波币)和GateWay(网关系统)。下面简单的阐述一下ripple支付系统的原理。

---

###基本概念



```
Ripple Ledger(总账): Ripple总账包括Ripple用户账户、账户余额，账户交易记录等信息，这些信息存储在分布式p2p网络上。Ripple网络上的交易实质上就是修改总账信息。

GateWay(网关): 网关是任意货币与Ripple网络的接口。网关用来接受用户的存取款、转账等资金流动性需求。类似于传统意义上的银行。

Market Maker(做市商): 做市商在Ripple网络上不断向公众投资者报出某些特定货币的买卖价格，并在该价位上接受公众投资者的买卖要求。做市商为Ripple网络提供了流动性。
```

---




###总账
Ripple总账类似于传统银行的账户数据库，唯一的区别就是Ripple总账存储在p2p网络中并由所有的用户共享。总账信息存储在全世界范围内的基于P2P的Ripple服务器中，每一个Ripple服务器存储了一份完整的总账信息，因此任何Ripple用户都可以查看Ripple网络上的所有交易。

----


###网关
网关的概念上文已经简单阐述过。每一种货币都有对应的网关，比如`USDsnapswap`(美元网关),`EURbitstmap`(欧元网关),`BTCbitstamp`(比特币网关)。网关提供了存款、转账、取款等功能。如下图所示

<figure>
    <img src="/images/ripple-network.jpg"/>
</figure>

**网关的风险**

一个用户在银行中的钱其实就是银行对你的债务。同样，用户在某个网关的账户余额，也是网关对你的债务。像现实世界中的银行会倒闭一样，网关也会破产。用户在往ripple钱包中充值时，需要选择网关。Ripple公司已经在尽力的寻求银行合作，目前看来效果不错，未来可能大部分银行会成为Ripple的网关。

>用户的账户余额只是网关对用户的债务，因此用户应该只在值得信任的网关进行交易。

如何避免网关破产的风险呢？交给自由竞争的市场吧。

----

###做市商

如果两个用户在同一个网关下(他们信任同一网关)，他们是可以自由交易的，类似同行转账。如果两个用户的账户不在同一个网关下(他们信任不同的网关)，他们该如何完成交易呢？做市商就是为了协助达成这些跨网关交易的。比如一个美元用户alice要向欧元用户bob付款时，就需要通过做市商，做市商给出了美元和欧元的标价，并愿意以此价格买入和卖出，当然做市商必须同时信任美元网关和欧元网关。如下图所示：

<figure>
    <img src="/images/ripple-market-maker.jpg"/>
</figure>

**汇率问题**

也许读者已经想到:**汇率是由做市商确定的**。是的，但是不用担心某个做市商会控制汇率，因为充分竞争的市场上会有无数个做市商。

**最低成本问题**

如何使每一次付款的成本最低呢？当然是选择最合算的做市商了，不过这个不需要你来考虑，Ripple网络的`path finding`算法会自动选取最佳路径。这也进一步消除了信息不对称问题，加剧了做市商之间的竞争，保证汇率处于合理水平。
算法选出的路径可能简短，也可能很复杂，但是它肯定是最便宜的，比如下图：

<figure>
    <img src="/images/ripple-path-finding.jpg"/>
</figure>

------


  [1]: http://blog.e-money.com/content/uploads/20130925-JED-MCCALEB-037edit-660x440.gif
